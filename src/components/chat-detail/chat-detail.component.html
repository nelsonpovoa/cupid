
<div class="flex flex-col h-screen bg-gray-900">
  @if(conversation(); as conv) {
    <header class="flex items-center p-3 border-b border-gray-700 bg-gray-800 z-10">
      <a routerLink="/chat" class="p-2 text-gray-300 hover:text-white">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </a>
      <img [ngSrc]="otherParticipantImage" [alt]="conv.name" width="40" height="40" class="w-10 h-10 rounded-full object-cover ml-2">
      <h2 class="ml-3 font-semibold text-lg text-white">{{ conv.name }}</h2>
    </header>
  }
  
  <div class="flex-1 overflow-y-auto p-4 space-y-4">
    @for (msg of messages(); track msg.id) {
      <div class="flex" [class.justify-end]="msg.sender_id === 1">
        <div 
          class="max-w-xs md:max-w-md px-4 py-2 rounded-2xl"
          [class.bg-pink-600]="msg.sender_id === 1"
          [class.text-white]="msg.sender_id === 1"
          [class.bg-gray-700]="msg.sender_id !== 1"
          [class.text-gray-200]="msg.sender_id !== 1"
          >
          <p>{{ msg.content }}</p>
        </div>
      </div>
    }
  </div>
  
  <footer class="p-3 border-t border-gray-700 bg-gray-800">
    <div class="flex items-center">
      <input 
        type="text" 
        placeholder="Digite uma mensagem..." 
        [(ngModel)]="newMessage"
        (keyup.enter)="sendMessage()"
        class="flex-1 bg-gray-700 rounded-full py-2 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500">
      <button (click)="sendMessage()" class="ml-3 p-2 rounded-full bg-pink-600 text-white hover:bg-pink-700 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transform rotate-90" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
        </svg>
      </button>
    </div>
  </footer>
</div>
